{% extends 'inventory/rollingstock/engines.html' %}
{% load markdown %}

{% block html_title %}
    {{ block.super }} - {{ klass }}
{% endblock %}

{% block content %}
    <h1>{{ klass.html }}</h1>
    {{ klass.description|markdown }}
    <table>
        <tr>
            <th>Betriebsnummer</th>
            {% if has_names %}
                <th>Taufname</th>
            {% endif %}
            {% if has_coat_of_arms %}
                <th>Wappen</th>
            {% endif %}
            <th>Modell</th>
            <th>&nbsp;</th>
        </tr>
        {% for vehicle in vehicles %}
            <tr>
                <td>{{ vehicle.vehicle.number }}</td>
                {% if has_names %}
                    <td>{{ vehicle.vehicle.name|default_if_none:'' }}</td>
                {% endif %}
                {% if has_coat_of_arms %}
                    <td><img src="{{ vehicle.vehicle.coat_of_arms.src }}" style="width: 5rem;"></td>
                {% endif %}
                <td>{{ vehicle.configurations.article }}</td>

                {% if vehicle.configurations.picture %}
                    <td>
                        <a href="{{ vehicle.configurations.picture.src }}"
                           data-lightbox="{{ vehicle.vehicle.klass.slug }}"
                           data-title="{{ vehicle.configurations.picture.author }} | {{ vehicle.configurations.picture.license }}"
                        ><img alt="{{ vehicle }}" style="width: 20rem;"
                              src="{{ vehicle.configurations.picture.src }}"
                              srcset="{{ vehicle.configurations.picture.srcset }}">
                        </a>
                    </td>
                {% else %}
                    &nbsp;
                {% endif %}
            </tr>
        {% endfor %}
    </table>
{% endblock %}
